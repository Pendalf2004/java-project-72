DROP TABLE IF EXISTS UrlCheck;
DROP TABLE IF EXISTS urls;

DROP SEQUENCE IF EXISTS url_id_seq;

CREATE SEQUENCE url_id_seq
START WITH 1
INCREMENT BY 1;

CREATE TABLE urls
(id        BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
address    VARCHAR(255),
created_at TIMESTAMP NOT NULL DEFAULT NOW());

CREATE TABLE UrlCheck
(id         BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
urlId       BIGINT REFERENCES urls(id) ON DELETE CASCADE NOT NULL,
statusCode  INT,
title       VARCHAR(255),
h1          VARCHAR(255),
description TEXT,
created_at  TIMESTAMP NOT NULL DEFAULT NOW());
